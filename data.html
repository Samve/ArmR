<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; Կիրառական տվյալագիտություն – R ծրագրավորում</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./stat.html" rel="next">
<link href="./rintro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./data.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Կիրառական տվյալագիտություն</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R ծրագրավորում</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Մասին</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Ներածություն</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rintro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">R ծրագրավորման միջավայր</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Կիրառական տվյալագիտություն</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Կիրառական վիճակագրություն</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Գրականություն</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#տվյալագիտությունը-որպես-նոր-գիտություն" id="toc-տվյալագիտությունը-որպես-նոր-գիտություն" class="nav-link active" data-scroll-target="#տվյալագիտությունը-որպես-նոր-գիտություն"><span class="header-section-number">3.1</span> Տվյալագիտությունը որպես նոր գիտություն</a>
  <ul class="collapse">
  <li><a href="#նոր-գիտության-առաջացումը" id="toc-նոր-գիտության-առաջացումը" class="nav-link" data-scroll-target="#նոր-գիտության-առաջացումը"><span class="header-section-number">3.1.1</span> Նոր գիտության առաջացումը</a></li>
  <li><a href="#տվյալագիտության-կարևոր-առանձնահատկությունները" id="toc-տվյալագիտության-կարևոր-առանձնահատկությունները" class="nav-link" data-scroll-target="#տվյալագիտության-կարևոր-առանձնահատկությունները"><span class="header-section-number">3.1.2</span> Տվյալագիտության կարևոր առանձնահատկությունները</a></li>
  <li><a href="#եզրափակում" id="toc-եզրափակում" class="nav-link" data-scroll-target="#եզրափակում"><span class="header-section-number">3.1.3</span> Եզրափակում</a></li>
  </ul></li>
  <li><a href="#sac" id="toc-sac" class="nav-link" data-scroll-target="#sac"><span class="header-section-number">3.2</span> Split - Apply - Combine</a>
  <ul class="collapse">
  <li><a href="#lapply-sapply" id="toc-lapply-sapply" class="nav-link" data-scroll-target="#lapply-sapply"><span class="header-section-number">3.2.1</span> lapply(), sapply()</a></li>
  <li><a href="#apply" id="toc-apply" class="nav-link" data-scroll-target="#apply"><span class="header-section-number">3.2.2</span> apply()</a></li>
  <li><a href="#mapply" id="toc-mapply" class="nav-link" data-scroll-target="#mapply"><span class="header-section-number">3.2.3</span> mapply()</a></li>
  <li><a href="#vapply-tapply" id="toc-vapply-tapply" class="nav-link" data-scroll-target="#vapply-tapply"><span class="header-section-number">3.2.4</span> vapply(), tapply()</a></li>
  <li><a href="#վեկտորացում-vectorize" id="toc-վեկտորացում-vectorize" class="nav-link" data-scroll-target="#վեկտորացում-vectorize"><span class="header-section-number">3.2.5</span> Վեկտորացում Vectorize()</a></li>
  <li><a href="#split" id="toc-split" class="nav-link" data-scroll-target="#split"><span class="header-section-number">3.2.6</span> split()</a></li>
  <li><a href="#aggregate-xtabs" id="toc-aggregate-xtabs" class="nav-link" data-scroll-target="#aggregate-xtabs"><span class="header-section-number">3.2.7</span> aggregate(), xtabs()</a></li>
  <li><a href="#խնդիրներ" id="toc-խնդիրներ" class="nav-link" data-scroll-target="#խնդիրներ"><span class="header-section-number">3.2.8</span> Խնդիրներ</a></li>
  <li><a href="#ամփոփում" id="toc-ամփոփում" class="nav-link" data-scroll-target="#ամփոփում"><span class="header-section-number">3.2.9</span> Ամփոփում</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Կիրառական տվյալագիտություն</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="տվյալագիտությունը-որպես-նոր-գիտություն" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="տվյալագիտությունը-որպես-նոր-գիտություն"><span class="header-section-number">3.1</span> Տվյալագիտությունը որպես նոր գիտություն</h2>
<p>Հիմնված է <span class="citation" data-cites="donoho201750">Donoho (<a href="references.html#ref-donoho201750" role="doc-biblioref">2017</a>)</span> հոդվածի վրա։</p>
<section id="նոր-գիտության-առաջացումը" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="նոր-գիտության-առաջացումը"><span class="header-section-number">3.1.1</span> Նոր գիտության առաջացումը</h3>
<p>Լայնորեն տարածում գտած ժամանակակից տվյալագիտություն(Data Science) առարկան իր սկիզբն է առնում 1962 թ․-ին Ջոն Թուկիի (John Tukey) հոդվածով <span class="citation" data-cites="tukey1962future">(<a href="references.html#ref-tukey1962future" role="doc-biblioref">Tukey 1962</a>)</span>, որտեղ նա կոչ էր անում ռեֆորմի ենթարկել համալսարանական վիճակագրությունը և մատնանշում էր նոր գիտության առաջացումը, որի ուսումնասիրության առարկան տվյալներից սովորելն է, այսինքն՝ տվյալների վերլուծությունը։ «Տվյալագիտություն» եզրույթը ավելի ուշ է ներմուծվել Բիլլ Քլիվլենդի (Bill Clevelend) կողմից <span class="citation" data-cites="cleveland2001data">(<a href="references.html#ref-cleveland2001data" role="doc-biblioref">Cleveland 2001</a>)</span>: Տվյալագիտության առաջացումը որպես գիտություն, որը զբաղվում է տվյալների հավաքագրմամբ և վերլուծմամբ, ստեղծում է բնական հարց՝ թե ինչո՞վ է այն տարբերվում վիճակագրությունից, հատկապես կիրառական վիճակագրությունից։ Կիրառական վիճակագրությունը իր ստեղծման օրերից զբաղվել է նման հարցերով և նոր գիտության առաջացման իմաստն անորոշ է։ Այս նորաստեղծ գիտությունը հաճախ ներկայացվում է որպես վիճակագրության և մեքենայական ուսուցման միավորում, որտեղ վերջինն իր հետ բերում է նաև մեծ տվյալների հետ աշխատելու գործիքակազմ։ Նման սահմանումը չի արտահայտում այն մտավոր նորարարությունը, որն ընկած է այս նոր գիտության հիմքում։ Քանզի գիտությունն առհասարակ արագորեն վերածվում է տվյալների, որոնք կարելի է վերլուծել, տվյալագիտության նորամուծությունը ոչ միայն մեծածավալ տվյալների հետ է կապված, այլև գիտության մեջ տվյալների վերլուծության գիտական ուսումնասիրությունների (scientific studies) առաջացմամբ։ Հետևաբար տվյալագիտության մեջ ցանկացած մեթոդական նորամուծություն իր ազդեցությունն է ունենալու առհասարակ գիտության զարգացման վրա։ Այսպիսով՝ տվյալագիտության առաջացումը նպաստել է փաստերի վրա հիմնված (evidence-based) գիտության առաջացմանը։</p>
<p>Ինքը Թուկին իր ելակետային հոդվածում այսպես է ընդգծում տվյալագիտության և կիրառական վիճակագրության տարբերությունը. տվյալագիտությունը նոր գիտություն է, ոչ թե մաթեմատիկայի նոր ճյուղ։ Գիտություն համարվելու համար երեք բաղադրիչների առկայությունն է պարտադիր.</p>
<ul>
<li>ինտելեկտուալ բովանդակությունը,</li>
<li>հասկանալի կառուցվածքը,</li>
<li>արդյունքների վերջնական հաստատումը տեղի է ունենում փորձի հիման վրա: Ըստ այս սահմանման՝ մաթեմատիկան գիտություն չէ, քանի որ նրանում վերջնական հաստատման չափանիշը տրամաբանական ամբողջականության և ապացուցելիության համաձայնեցված տեսակն է: Տվյալագիտությունը բավարարում է այս երեք պայմաններին, հետևաբար այն գիտություն է, որը բնորոշվում է ոչ թե հատուկ ուսումնասիրության առարկայով, այլ ամենուրեք առկա խնդիրներով։</li>
</ul>
<p>Թուկին նաև առանձնացրել է չորս ուժ, որոնք առաջ են մղում նոր գիտությանը՝</p>
<ul>
<li>վիճակագրական տեսությունները,</li>
<li>արագացող զարգացումները համակարգիչներում և ցուցադրող սարքերում,</li>
<li>տարբեր ոլորտներում առկա անընդհատ աճող տվյալների զանգվածը,</li>
<li>ավելի ու ավելի շատ բնագավառներում քանակական արդյունքների վրա շեշտադրումը։</li>
</ul>
<p>Կարևոր է նկատել, որ այս հատկանիշների թվարկումից երևում է, որ վիճակագրությունը մասամբ է ներառված տվյալագիտությունում։</p>
</section>
<section id="տվյալագիտության-կարևոր-առանձնահատկությունները" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="տվյալագիտության-կարևոր-առանձնահատկությունները"><span class="header-section-number">3.1.2</span> Տվյալագիտության կարևոր առանձնահատկությունները</h3>
<section id="հաշվողական-ծրագրային-միջավայրեր-quantitative-programming-environments" class="level4" data-number="3.1.2.1">
<h4 data-number="3.1.2.1" class="anchored" data-anchor-id="հաշվողական-ծրագրային-միջավայրեր-quantitative-programming-environments"><span class="header-section-number">3.1.2.1</span> Հաշվողական ծրագրային միջավայրեր՝ Quantitative programming environments</h4>
<p>Վերջին 50 տարիների ընթացքում տվյալների վերլուծության համար ստեղծվել են բավականաչափ հաշվողական ծրագրային միջավայրեր։ Համալսարանական վիճակագրությունում գերիշխող դիրք ունի <img src="images/Rlogo.png" class="img-fluid" style="width:0.2in" alt="R"> լեզուն։ Այն սկրիպտային (script) լեզու է, որտեղ գործողությունները կատարվում են տող առ տող՝ ճշգրտորեն համապատասխանելով հաշվողական քայլերի հերթականությանը: <img src="images/Rlogo.png" class="img-fluid" style="width:0.2in" alt="R">-ի կատարած հեղափոխության կարևորագույն առանձնահատկություններից է տեքստային ծրագրերի (code) տարածումը համացանցում և դրանց վերաօգտագործումը այլ օգտատերերի կողմից։ Այս գործընթացը հեշտացվում է նաև վերը նշված առանձնահատկության պատճառով, այն է՝ քայլերի աստիճանական կատարման շնորհիվ, հետևաբար փոխելով այլ օգտատերի տեքստային ծրագրի մեկ կամ մի քանի տողը հնարավոր է այն հարմարեցնել ձեր նպատակներին։ Այսպիսով՝ հնարավոր է անընդհատ բարելավել խնդիրների ծրագրային լուծումը, ձևավորել տեքստային ծրագրերում որոշակի գիտելիք և տվյալների վերլուծության ծրագրային կիրառելիությունը դնել գիտական հիմքերի վրա։</p>
</section>
<section id="կանխատեսում-և-վիճակագրական-եզրահանգումներ" class="level4" data-number="3.1.2.2">
<h4 data-number="3.1.2.2" class="anchored" data-anchor-id="կանխատեսում-և-վիճակագրական-եզրահանգումներ"><span class="header-section-number">3.1.2.2</span> Կանխատեսում և վիճակագրական եզրահանգումներ</h4>
<p>Համալսարանական վիճակագրությունը կարելի է բաժանել երկու մասի՝ վիճակագրական եզրահանգումներ և կանխատեսում (Statistical inference and Prediction)։ Վիճակագրական եզրահանգումներ կատարելիս վիճակագիրները նախ փորձում են համապատասխան մոդել ընտրել, որը լավագույնս կբնութագրի գոյություն ունեցող տվյալները, ապա ընտրված մոդելի հիման վրա կատարվում են եզրահանգումներ անհայտ մեծությունների վերաբերյալ։ Սա համալսարանական վիճակագիրների գերակշռող զբաղմունքն է։ Տվյալագիտության հաջորդ կարևորագույն առանձնահատկությունը համալսարանական վիճակագրության երկրորդ և հարաբերականորեն ավելի քիչ օգտագործվող մասի՝ կանխատեսման վրա շեշտադրումն է։ Կանխատեսման խնդիրներ լուծելիս հաճախ մոդելի ընտրություն չի կատարվում, այլ փորձվում են բազմաթիվ կանխատեսման ալգորիթմներ և առաջնայնությունը տրվում է կանխատեսման լավագույն ճշգրտություն ունեցող ալգորիթմին: Կանխատեսման վրա ավելի մեծ շեշտադրումն էլ նպաստել է մեքենայական ուսուցում առարկայի առաջացմանը։</p>
</section>
<section id="մեքենայական-ուսուցման-հիմնական-պարադիգմը-ctf-the-common-task-framework" class="level4" data-number="3.1.2.3">
<h4 data-number="3.1.2.3" class="anchored" data-anchor-id="մեքենայական-ուսուցման-հիմնական-պարադիգմը-ctf-the-common-task-framework"><span class="header-section-number">3.1.2.3</span> Մեքենայական ուսուցման հիմնական պարադիգմը՝ CTF (The Common Task Framework)</h4>
<p>Կարդալ Section 6 - The Predictive Culture’s Secret Sauce <span class="citation" data-cites="donoho201750">(<a href="references.html#ref-donoho201750" role="doc-biblioref">Donoho 2017</a>)</span>:</p>
</section>
<section id="տվյալագիտության-ուսումնասիրության-ամբողջ-շրջանակը" class="level4" data-number="3.1.2.4">
<h4 data-number="3.1.2.4" class="anchored" data-anchor-id="տվյալագիտության-ուսումնասիրության-ամբողջ-շրջանակը"><span class="header-section-number">3.1.2.4</span> Տվյալագիտության ուսումնասիրության ամբողջ շրջանակը</h4>
<p>Տվյալագիտության ուսումնասիրության ամբողջ շրջանակը կարելի է բաժանել 6 մասի՝</p>
<ul>
<li><p>Տվյալների ուսումնասիրություն և նախապատրաստում (Data Exploration and Preparation)։ Առաջին քայլն է տվյալների հետ աշխատելիս։ Հավաքագրված տվյալները նախ պետք է ուսումնասիրվեն՝ պարզելու համար դրանց հետ կապված խնդիրները։ Օրինակ, եթե հավաքագրվել են տվյալներ մարդկանց վերաբերյալ, ապա պետք է ստուգել, որ մարդկանց սեռը ցույց տվող փոփոխականում լինեն միայն երկու հնարավոր արժեքներ, կամ մարդկանց տարիքը ցույց տվող փոփոխականում բացասական արժեքներ չլինեն։ Տվյալների սկզբնական ուսումնասիրությունից հետո սկսվում է տվյալների նախապատրաստությունը վերլուծության համար` ներառյալ տվյալների մաքրում, խմբավորում կամ բաժանում՝ հետագա դրանք վերլուծության հարմարեցման նպատակով։</p></li>
<li><p>Տվյալների ներկայացում և ձևափոխում (Data Representation and Transformation)։ Այս փուլը հիմնականում ընդգրկում է տվյալների տեղաբաշխումը տարբեր ձևաչափերով ու զանազան կառուցվածքներով։ Գոյություն ունեն տվյալների բաշխման ինչպես համընդհանուր սկզբունքներ և տեսություններ, օրինակ՝ հարաբերական տվյալների բազաներ (Relational databases), ինչպես նաև տվյալների ստացման ոլորտից կախված առանձնահատկություններ (օրինակ՝ պատկերային տվյալներ կամ համացանցից քաղված տեքստային տվյալներ)։ Տվյալագետը կատարում է կառուցվածքային վերափոխումներ՝ սկզբնական տվյալները դարձնելով ավելի բացահայտող տեսքի։</p></li>
<li><p>Հաշվարկներ տվյալների հետ (Computing with Data)։ Տվյալագետը հաճախ ստիպված է լինում իրականացնել բարդ հաշվարկներ պարունակող հսկայածավալ նախագծեր, ուստի հաշվողական արդյունավետության հարցերը պետք է լինեն ուշադրության կենտրոնում։</p></li>
<li><p>Տվյալների մոդելավորում (Data Modeling)։ Վիճակագրական եզրահանգումներում կատարվում է հավանականային մոդելի ընտրություն, իսկ կանխատեսման կամ՝ մեքենայական ուսուցման մեջ՝ կանխատեսման ալգորիթմի ընտրություն։</p></li>
<li><p>Տվյալների պատկերում և ներկայացում (Data Visualization and Presentation)։ Պարզագույն դեպքում սա տվյալների պատկերային ներակայացումն է գոյություն ունեցող գծապատկերների տեսակների միջոցով (օրինակ՝ սյունապատկերներ), սակայն հաճախ պետք է կատարել ոճային փոփոխություններ խնդրի առանձնահատկություններից կախված (օրինակ՝ գունավորում) կամ ստեղծել նոր մեթոդներ և գծապատկերների նոր տեսակներ։</p></li>
<li><p>Գիտություն տվյալագիտության վերաբերյալ (Science about Data Science)։ Վերոնշյալ փուլերը կատարելիս և լուծումների առանձնահատկությունները գիտակցելիս պետք է հիշել, որ տվյալագիտությունը գիտություն է և մոտեցումները համընդհանուր են՝ անկախ տվյալների առաջացման ոլորտից։ Հետևաբար վերը նշված փուլերի վերաբերյալ գիտելիքները պետք է վեր հանվեն, քննարկվեն և փոխանցվեն՝ վերաօգտագործման ու հետագա զարգացման համար։</p></li>
</ul>
</section>
</section>
<section id="եզրափակում" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="եզրափակում"><span class="header-section-number">3.1.3</span> Եզրափակում</h3>
<p>Տվյալների վերլուծության կարևորության աճին զուգահեռ ծրագրավորողները փորձ են արել այդ ճյուղն առանձնացնել վիճակագրությունից։ Մեքենայական ուսուցման առաջացումն էլ երբեմն հակադրվել է դասական, համալսարանական վիճակագրությանը։ Վերը նշվածը ցույց է տալիս ինչպես նման հակադրության անհրաժեշտության բացակայությունը, այնպես էլ տվյալագիտության լիակատար ինքնուրույնությունը՝ վիճակագրությունից և հաշվողական ծրագրավորումից։</p>
</section>
</section>
<section id="sac" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="sac"><span class="header-section-number">3.2</span> Split - Apply - Combine</h2>
<p>Այս բաժնում ուսումնասիրելու ենք շրջապտույտի ֆունկցիաները (Loop Functions), որոնք օգտագործվում են կիրառելու համար «բաժանել-կիրառել-միավորել» (Split-Apply-Combine) մարտավարությունը: Մարտավարության նպատակն է բաժանել տվյալները ավելի փոքր մասերի, կիրառել տրված ֆունկցիան մասերի վրա և միավորել ստացված արդյունքները։ Ստորև նկարում բերված աղյուսակն ամփոփ ներկայացնում է շրջապտույտի ֆունկցիաները։ Ձախ կողմի տողերը ցույց են տալիս օբյեկտի տեսակը, որը փոխանցվում է ֆունկցիային, իսկ սյուները՝ ֆունկցիայի կողմից վերադարձվող օբյեկտի տեսակը։ Գունավորված ֆունկցիաները <img src="images/Rlogo.png" class="img-fluid" style="width:0.2in" alt="R">-ում նախասահմանված ֆունկցիաներն են, իսկ սպիտակները՝ Հադլի Ուիքհեմի (Hadley Wickham) ստեղծված <strong>plyr</strong> գրադարանից <span class="citation" data-cites="R-plyr">(<a href="references.html#ref-R-plyr" role="doc-biblioref">Wickham 2011</a>)</span>։</p>
<div id="apply" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/apply.png" class="img-fluid figure-img"></p>
<figcaption>Apply</figcaption>
</figure>
</div>
<section id="lapply-sapply" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="lapply-sapply"><span class="header-section-number">3.2.1</span> lapply(), sapply()</h3>
<p>Ենթադրենք ունենք ցուցակ, որի մեջ գրված են երեք մատրից, և ուզում ենք հաշվել դրանցից յուրաքանչյուրի որոշիչը։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">M1 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>), <span class="at">nrow =</span> <span class="dv">2</span>), </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">M2 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">31</span>, <span class="dv">44</span>, <span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>), </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">M3 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">87</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>det()</code> ֆունկցիային կարելի է որպես արգումենտ տալ միայն մատրից։ Որպեսզի կարողանանք այն կիրառել ցուցակի բոլոր ենթամատրիցների վրա, անհրաժեշտ է շրջապտույտի հրամանով հերթով դուրս հանել ցուցակի բոլոր ենթամատրիցները։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>deter <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(x <span class="cf">in</span> l){</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  deter <span class="ot">&lt;-</span> <span class="fu">c</span>(deter, <span class="fu">det</span>(x))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>deter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]     3 -1340   -36</code></pre>
</div>
</div>
<p>Այս ամբողջն ավելի հեշտ կլիներ, եթե կարողանայինք <img src="images/Rlogo.png" class="img-fluid" style="width:0.2in" alt="R">-ին ուղղորդել, որպեսզի այն կիրառեր նույն ցուցակի բոլոր ենթամատրիցների համար։ Հենց դրա համար օգտագործում ենք <code>lapply()</code> ֆունկցիան, որն ունի երեք արգումենտ. նախ պետք է տալ ցուցակը, ապա՝ կիրառվող ֆունկցիան, և բազմակետ արգումենտում կարելի է նշել բոլոր այն արգումենտները, որոնք ուզում ենք փոխանցել կիրառվող ֆունկցիային։ <code>lapply()</code> ֆունկցիան միշտ վերադարձնում է ցուցակ։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(l, det)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$M1
[1] 3

$M2
[1] -1340

$M3
[1] -36</code></pre>
</div>
</div>
<p>Ինչպես երևում է, մատրիցների անունները պահպանվել են, և յուրաքանչյուրի համար հաշվվել է դրա որոշիչը։</p>
<p>Այժմ ենթադրենք ունենք ցուցակ, որում գրված են երեք վեկտոր, և անհրաժեշտ է հաշվել յուրաքանչյուրի միջին թվաբանականը։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">33</span>, <span class="dv">44</span>, <span class="dv">55</span>), <span class="at">b =</span> <span class="fu">c</span>(<span class="dv">56</span>, <span class="sc">-</span><span class="dv">16</span>, <span class="cn">NA</span>), </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">c =</span> <span class="fu">c</span>(<span class="dv">85</span>, <span class="dv">654</span>, <span class="sc">-</span><span class="dv">567</span>, <span class="sc">-</span><span class="dv">10</span>))</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(l, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 36

$b
[1] NA

$c
[1] 40.5</code></pre>
</div>
</div>
<p>Երկրորդ վեկտորի միջին թվաբանականը <code>NA</code> է, քանի որ այդ վեկտորը պարունակում է <code>NA</code> արժեք։ Ինչպես գիտենք, <code>mean()</code> ֆունկցիան ունի արգումենտ, որի միջոցով հնարավոր է վեկտորից դուրս հանել <code>NA</code> արժեքները՝ մինչ միջինի հաշվարկը։ Բազմակետ արգումենտի միջոցով <code>mean()</code> ֆունկցիայի այս արգումենտը կարող ենք փոխանցել <code>lapply()</code>-ին։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(l, mean, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 36

$b
[1] 20

$c
[1] 40.5</code></pre>
</div>
</div>
<p><code>lapply()</code> ֆունցկիան, որպես արգումենտ, ընդունում է ֆունկցիա, հետևաբար, ինչպես նմանատիպ այլ դեպքերում, հնարավոր է որպես արգումենտ փոխանցել անանուն ֆունկցիա։ Դիտարկենք մատրիցներ պարունակող նախկին ցուցակը և փորձենք դուրս հանել այդ մատրիցներից յուրաքանչյուրի առաջին տողը։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">M1 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>), <span class="at">nrow =</span> <span class="dv">2</span>), </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">M2 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">31</span>, <span class="dv">44</span>, <span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>),</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">M3 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">87</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$M1
     [,1] [,2]
[1,]    2    3
[2,]    1    3

$M2
     [,1] [,2]
[1,]   12   44
[2,]   31    2

$M3
     [,1] [,2]
[1,]   18    0
[2,]   87   -2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(l, <span class="cf">function</span>(x) x[<span class="dv">1</span>,])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$M1
[1] 2 3

$M2
[1] 12 44

$M3
[1] 18  0</code></pre>
</div>
</div>
<p><code>sapply()</code> ֆունկցիան կատարում է նույն գործողությունները, ինչ <code>lapply()</code>-ը, պարզապես հնարավորության դեպքում վերադարձվող ցուցակը պարզեցվում է <code>(s = simplify)</code> և վերադարձվում է համասեռ վեկտոր (երբ վերադարձվող ցուցակի յուրաքանչյուր տարր մեկ երկարությամբ համասեռ վեկտոր է), մատրից (եթե վերադարձվող ցուցակի յուրաքանչյուր տարր մեկից մեծ և մյուսներին հավասար երկարությամբ համասեռ վեկտոր է), իսկ երբ հնարավոր չէ պարզեցնել, վերադարձվում է ցուցակ։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">M1 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>), <span class="at">nrow =</span> <span class="dv">2</span>), </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">M2 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">31</span>, <span class="dv">44</span>, <span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">M3 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">87</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>))</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(l, det)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   M1    M2    M3 
    3 -1340   -36 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">33</span>, <span class="dv">44</span>, <span class="dv">55</span>), <span class="at">b =</span> <span class="fu">c</span>(<span class="dv">56</span>, <span class="sc">-</span><span class="dv">16</span>, <span class="cn">NA</span>), </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">c =</span> <span class="fu">c</span>(<span class="dv">85</span>, <span class="dv">654</span>, <span class="sc">-</span><span class="dv">567</span>, <span class="sc">-</span><span class="dv">10</span>))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(l, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   a    b    c 
36.0 20.0 40.5 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">M1 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>), <span class="at">nrow =</span> <span class="dv">2</span>), </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">M2 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">31</span>, <span class="dv">44</span>, <span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>), </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">M3 =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">87</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">2</span>))</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(l, <span class="cf">function</span>(x) x[<span class="dv">1</span>,])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     M1 M2 M3
[1,]  2 12 18
[2,]  3 44  0</code></pre>
</div>
</div>
</section>
<section id="apply" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="apply"><span class="header-section-number">3.2.2</span> apply()</h3>
<p><code>apply()</code> ֆունկցիան կիրառվում է զանգվածների, այդ թվում՝ մատրիցների վրա։ Առաջին արգումենտը զանգվածն է, որի վրա ուզում ենք ֆունկցիա կիրառել, երկրորդը՝ չափողականությունը (margin), որն օգտագործվելու է զանգվածի հետ աշխատելիս, իսկ երրորդը՝ կիրառվող ֆունկցիան։ Բազմակետ արգումենտը ևս առկա է։ Օրինակ.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>M</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    6   11   16
[2,]    2    7   12   17
[3,]    3    8   13   18
[4,]    4    9   14   19
[5,]    5   10   15   20</code></pre>
</div>
</div>
<p>Տողերն առաջին չափողականությունն են, սյուները՝ երկրորդ, և կարող ենք հաշվել միջինները.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(M, <span class="dv">1</span>, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  8.5  9.5 10.5 11.5 12.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(M, <span class="dv">2</span>, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  8 13 18</code></pre>
</div>
</div>
<p>Այս օգտագործումն այնքան հաճախ է, որ գոյություն ունեն առանձին արագացված ֆունկցիաներ՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rowSums</span>(x) <span class="ot">=</span> <span class="fu">apply</span>(x, <span class="dv">1</span>, sum)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rowMeans</span>(x) <span class="ot">=</span> <span class="fu">apply</span>(x, <span class="dv">1</span>, mean)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(x) <span class="ot">=</span> <span class="fu">apply</span>(x, <span class="dv">2</span>, sum)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colMeans</span>(x) <span class="ot">=</span> <span class="fu">apply</span>(x, <span class="dv">2</span>, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Բացի ավելի կարճ գրառում ունենալուց, այս ֆունկցիաները շատ ավելի արագ կիրագործեն հաշվարկը, քան <code>apply()</code>-ով նույնն անելը։ Եթե կիրառվելու են այլ ֆունցկիաներ, կարող ենք փոխանցել դրանց արգումենտները ևս՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(x, <span class="dv">1</span>, quantile, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.75</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    [,1]  [,2]
25%  4.5 20.25
75% 13.5 64.75</code></pre>
</div>
</div>
<p>Տեսնում ենք, որ արդյունքները միավորվել են և ներկայացվում են մատրիցի տեսքով։</p>
</section>
<section id="mapply" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="mapply"><span class="header-section-number">3.2.3</span> mapply()</h3>
<p>Նախորդ ֆունկցիաները տրված օբյեկտի ենթաօբյեկտները հաջորդաբար փոխանցում էին տրված ֆունկցիային՝ որպես արգումենտ։ Այժմ ենթադրենք, որ ունենք մի քանի օբյեկտներ, որոնց ենթաօբյեկտները հաջորդաբար փոխանցվում են տրված ֆունկցիայի տարբեր արգումենտներին։ Ֆունկցիայի միաժամանակյա կանչումը տարբեր փոփոխականներին արժեքներ տալով կատարվում է <code>mapply()</code> ֆունկցիայի միջոցով։ Դիտարկենք հետևյալ օրինակը։ Ենթադրենք տրված է հետևյալ ուղղանկյուն տվյալը՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> airquality[,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Հաշվենք ամեն սյան քանորդիչը, ընդ որում՝ առաջինի համար հաշվում ենք 0.1 քանորդիչը, երկրորդի համար՝ 0.25, երրորդի՝ 0.5 և չորրորդի՝ 0.75:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mapply</span>(quantile, M, <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">0.25</span>,<span class="fl">0.5</span>,<span class="fl">0.75</span>), <span class="at">na.rm=</span>T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Ozone.10% Solar.R.25%    Wind.50%    Temp.75% 
      11.00      115.75        9.70       85.00 </code></pre>
</div>
</div>
<p><code>mapply()</code> ֆունկցիայի առաջին արգումենտը ֆունկցիան է, որն ուզում ենք կիրառել, երկրորդը՝ արգումենտը որը պետք է փոպանցել այդ ֆունկցիային և այլն։ Բացի այդ, կիրառվող ֆունկցիայի ևս մեկ արգումենտի լռելյալն արժեքը փոխվել է՝ <code>na.rm = T</code>:</p>
</section>
<section id="vapply-tapply" class="level3" data-number="3.2.4">
<h3 data-number="3.2.4" class="anchored" data-anchor-id="vapply-tapply"><span class="header-section-number">3.2.4</span> vapply(), tapply()</h3>
<p><code>vapply()</code> կատարում է նույն գործառույթները ինչ <code>sapply()</code> ֆունկցիան տարբերությամբ, որ վերջինը փորձում է հնարավորինս պարզեցնել վերջնական արդյունքները, իսկ առաջինը թույլ է տալիս օգտագործողին նշել տեսակը, որով, եթե հնարավոր է, ուզում ենք ստանալ արդյունքները։ Եթե նշված տեսակով հնարավոր չէ արդյունքները ներկայացնել, տեղի է ունենում սխալ։ Սա թույլ է տալիս խոսափել անակնկալ տեսքով տվյալները ստանալուց, որը հետագայում կարող է սխալ արդյունքի բերել։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vapply</span>(airquality,class,<span class="fu">character</span>(<span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Ozone   Solar.R      Wind      Temp     Month       Day 
"integer" "integer" "numeric" "integer" "integer" "integer" </code></pre>
</div>
</div>
<p>Հաջորդ ֆունկցիան հենց իրագործում է բաժանել-կիրառել-միավորել մարտավարությունը։ Ենթադրենք պետք է տվյալները բաժանել մասերի, կիրառել մասերի վրա տրված ֆունկցիան և միավորել ստացված արդյունքները։ Ֆունկցիան կոչվում է <code>tapply()</code>, որտեղ <code>t</code> նշանակում է <code>table</code>: Դիտարկենք նախասահմանված <code>UCBAdmissions</code> ուղղանկյունաձև տվյալները, որը պարունակում է Բերկլիի համալսարանի վեց ամենամեծ դեպարտամենտներում ընդունված ուսանողների քանակները 1973 թվականին։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>UCBAdmissions <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(UCBAdmissions)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(UCBAdmissions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24  4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(UCBAdmissions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Admit Gender Dept Freq
1 Admitted   Male    A  512
2 Rejected   Male    A  313
3 Admitted Female    A   89
4 Rejected Female    A   19
5 Admitted   Male    B  353
6 Rejected   Male    B  207</code></pre>
</div>
</div>
<p>Հաշվենք ընդունված բոլոր ուսանողների մեջ աղջիկների և տղաների քանակները՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(UCBAdmissions<span class="sc">$</span>Freq, UCBAdmissions<span class="sc">$</span>Gender, sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Male Female 
  2691   1835 </code></pre>
</div>
</div>
<p>Ինչպես տեսնում ենք՝ ֆունկցիայի առաջին արգումենտը փոփոխականն է, որն ուզում ենք մասերի բաժանել, երկրորդը՝ փոփոխականը, որի միջոցով ուզում ենք տրոհել առաջին փոփոխականը, իսկ երրորդ արգումենտը ֆունկցիան է, որն ուզում ենք կիրառել տրոհված փոփոխականի վրա։</p>
<p>Կարող ենք անգամ խմբավորման համար երկու փոփոխականներ վերցնել։ Այդ դեպքում փոփոխականները պետք է ընդգրկել ցուցակի մեջ և փոխանցել որպես երկրորդ արգումենտ՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(UCBAdmissions<span class="sc">$</span>Freq, <span class="fu">list</span>(UCBAdmissions<span class="sc">$</span>Gender,UCBAdmissions<span class="sc">$</span>Admit), sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Admitted Rejected
Male       1198     1493
Female      557     1278</code></pre>
</div>
</div>
<p>Սա տալիս է յուրաքանչյուր սեռի ընդուված և չընդունված ուսանողների ընդհանուր քանակը։</p>
</section>
<section id="վեկտորացում-vectorize" class="level3" data-number="3.2.5">
<h3 data-number="3.2.5" class="anchored" data-anchor-id="վեկտորացում-vectorize"><span class="header-section-number">3.2.5</span> Վեկտորացում Vectorize()</h3>
<p>Ինչպես բազմիցս նշել ենք՝ <img src="images/Rlogo.png" class="img-fluid" style="width:0.2in" alt="R"> լեզվի ուժեղ կողմերից է վեկտորական գործողությունների առկայությունը: Թվաբանական գործողություններ կատարելիս ինչպես նաև շատ այլ ֆունկցիաներ կիրառելիս հնարավոր է որպես արգումենտ փոխանցել համասեռ վեկտոր և այդ դեպքում ֆունկցիան իր գործառույթները կկատարի կոորդինատ առ կոորդինատ։ Այդպիսի ֆունկցիաները կոչվում են վեկտորացված ֆունկցիաներ։ Վեկտորացված ֆունկցիաների օրինակներ են մաթեմատիկական ֆունկցիաները, ինչպես օրինակ, քառակուսի արմատ հանող ֆունկցիան՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.000000 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751
 [9] 2.828427 3.000000 3.162278</code></pre>
</div>
</div>
<p>Այս ֆունկցիան ստանալով համասեռ թվային վեկտոր, կիրառեց քառակուսի բարձրացնելու գործողությունն այդ վեկտորի յուրաքանչյուր կոորդինատի վրա և վերադարձնում քառակուսիներից բաղկացած թվային վեկտոր։ Իհարկե կան նաև ֆունկցիաներ որոնք վեկտորացված չեն։ <img src="images/Rlogo.png" class="img-fluid" style="width:0.2in" alt="R">-ում գոյություն ունի հատուկ ֆունկցիա, որը, որպես արգումենտ փոխանցված ֆունկցիան կարող է վեկտորացնել և վերադարձնել տվյալ ֆունկցիայի վեկտորացված տեսակը։ Մինչ այդ ֆունկցիային անդրադառնալը դիտարկենք ոչ վեկտորացված ֆունկցիայի օրինակ։ Դիտարկենք հետևյալ ֆունկցիան՝</p>
<p><span class="math display">\[f(x)=\left\{\begin{matrix}
&amp;x,\,x&lt;0\\
&amp;x^2,\,x\geq 0
\end{matrix}\right.
\]</span></p>
<p>Այս ֆունկցիայի ստորև բերված գծապատկերը ստանալու համար անհրաժեշտ է ստանալ այդ ֆունկցիայի արժեքները <span class="math inline">\(x=[-1,1]\)</span> հատվածի կետերում՝</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Սահմանենք վերը բերված ֆունկցիան <img src="images/Rlogo.png" class="img-fluid" style="width:0.2in" alt="R">-ում։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(x <span class="sc">&lt;</span> <span class="dv">0</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;-</span> x</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(y)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ակնհայտ է, որ նման ձևով սահմանված ֆունկցիան վեկտորացված չէ, քանի որ <span class="math inline">\(x\)</span> արգումենտն օգտագործվում է <span class="math inline">\(if\)</span> կառուցվածքում պայման ստուգելիս, իսկ այդ դեպքում պայմանը պետք է լինի 1 երկարությամբ տրամաբանական վեկտոր։ Երբ ստացվում է մեկից ավել երկարությամբ վեկտոր, ապա ծրագրային սխալ է տեղի ունենում։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">5</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">try</span>(<span class="fu">f</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Error in if (x &lt; 0) y &lt;- x else y &lt;- x^2 : the condition has length &gt; 1</code></pre>
</div>
</div>
<p>Սա ակնհայտորեն այն արդյունքը չէ, որ մենք ակնկալում էինք։ Անհրաժեշտ արդյունքը ստանալու համար դիտարկենք երեք տարբեր ձևեր։ Նախ կարող ենք օգտագործել <em>apply</em> ընտանիքի ֆունկցիաներից որևէ մեկը՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(x,f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -5 -4 -3 -2 -1  0  1  4  9 16 25</code></pre>
</div>
</div>
<p>Երկրորդ տարբերակն է՝ այնպես վերասահմանենք տրված ֆունկցիան, որ այն վեկտորացված լինի՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>f_ <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">ifelse</span>(x <span class="sc">&lt;</span> <span class="dv">0</span>, x, x<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">f_</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -5 -4 -3 -2 -1  0  1  4  9 16 25</code></pre>
</div>
</div>
<p>Երրորդ ձևն էլ կլինի նախասահմանված <span class="math inline">\(Vectorize()\)</span> ֆունկցիայի միջոցով տրված ֆունկցիան վեկտորացնելը՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>f0<span class="ot">&lt;-</span><span class="fu">Vectorize</span>(f,<span class="st">"x"</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">f0</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -5 -4 -3 -2 -1  0  1  4  9 16 25</code></pre>
</div>
</div>
<p>Այդ ֆունկցիայի առաջին արգումենտը ֆունկցիան է, որն ուզում ենք վեկտորացնել, իսկ երկրորդն այն արգումենտն է, որին ուզում ենք վեկտորներ ստանալու հատկություն վերագրել։</p>
</section>
<section id="split" class="level3" data-number="3.2.6">
<h3 data-number="3.2.6" class="anchored" data-anchor-id="split"><span class="header-section-number">3.2.6</span> split()</h3>
<p><span class="math inline">\(split()\)</span> ֆունկցիան բաժանում է տրված օբյեկտը մասերի՝ օգտագործելով որպես երկրորդ արգումենտ տրված ֆակտորը կամ ֆակտորների ցուցակը։ Այս ֆունկցիան միշտ ցուցակ է վերադարձնում, հետևաբար արդյունքը կարող ենք փոխանցել <span class="math inline">\(sapply()\)</span> կամ <span class="math inline">\(lapply()\)</span> ֆունկցիաներին։ <span class="math inline">\(split()\)</span> և <span class="math inline">\(lapply()\)</span> ֆունկցիաների միաժամանակյա կիրառումը կտա նույն արդյունքը ինչ <span class="math inline">\(tapply()\)</span> ֆունկցիայի կիրառումը տարբերությամբ, որ վերջինս տրոհում է վեկտորը, հետևաբար որպես արգումենտ փոխանցվող ֆունկցիան կարող է կիրառվել միայն վեկտորի վրա, իսկ <span class="math inline">\(split()\)</span> ֆունկցիան կարող է տրոհել ոչ միան վեկտոր, հետևաբար <span class="math inline">\(lapply()\)</span> ֆունկցիային որպես արգումենտ փոխանցված ֆունկցիան կարող է կիրառվել նաև ոչ վեկտորի վրա։ Որպես օրինակ նորից դիտարկենք <em>airquality</em> ուղղանկյունաձև տվյալները։ Ենթադրենք ուզում ենք հաշվել Օզոնի, Ճառագայթման, Քամու և Ջերմաստիճանի միջին արժեքները՝ ըստ ամսիների։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="fu">split</span>(airquality[,<span class="fu">c</span>(<span class="st">"Ozone"</span>, <span class="st">"Solar.R"</span>, <span class="st">"Wind"</span>, <span class="st">"Temp"</span> )], </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>             airquality<span class="sc">$</span>Month), colMeans, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                5         6          7          8         9
Ozone    23.61538  29.44444  59.115385  59.961538  31.44828
Solar.R 181.29630 190.16667 216.483871 171.857143 167.43333
Wind     11.62258  10.26667   8.941935   8.793548  10.18000
Temp     65.54839  79.10000  83.903226  83.967742  76.90000</code></pre>
</div>
</div>
<p>Որպես երկրորդ փոփոխական կարող ենք փոխանցել նաև ֆակտորների ցուցակ, որը պարունակում է խմբավորման մեկից ավելի փոփոխականներ։ <em>airquality</em> ուղղանկյունաձև տվյալներում ստեղծենք նոր փոփոխական, որը ցույց է տալիս թե օրը, որում կատարվել է չափումը զույգ օր է, թե՝ կենտ։ Այդ փոփոխականն էլ օգտագործենք որպես խմբավորման երկրորդ փոփոխական։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> airquality</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>Day_Type <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(dat<span class="sc">$</span>Day<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">0</span>, <span class="st">"Even"</span>, <span class="st">"Odd"</span>)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="fu">split</span>(dat[,<span class="fu">c</span>(<span class="st">"Ozone"</span>, <span class="st">"Solar.R"</span>, <span class="st">"Wind"</span>, <span class="st">"Temp"</span>)], </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>             <span class="fu">list</span>(dat<span class="sc">$</span>Month, dat<span class="sc">$</span>Day_Type)),colMeans, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           5.Even     6.Even     7.Even     8.Even     9.Even     5.Odd
Ozone    26.38462  23.250000  58.250000  51.928571  29.800000  20.84615
Solar.R 187.42857 196.800000 234.933333 161.769231 158.333333 174.69231
Wind     11.88000   9.633333   9.353333   9.426667   9.933333  11.38125
Temp     65.73333  79.600000  84.466667  84.200000  77.066667  65.37500
           6.Odd     7.Odd     8.Odd     9.Odd
Ozone    34.4000  59.85714  69.33333  33.21429
Solar.R 183.5333 199.18750 180.60000 176.53333
Wind     10.9000   8.55625   8.20000  10.42667
Temp     78.6000  83.37500  83.75000  76.73333</code></pre>
</div>
</div>
<p>Եթե լիներ ֆակտորների պիտակների համադրություն, որին համապատասխան արժեք չգտնվեր, ապա <span class="math inline">\(drop\)</span> արգումենտի <span class="math inline">\(TRUE\)</span> արժեքի միջոցով հնարավոր կլիներ դուրս գցել այդ համադրությունը՝ վերջնական արդյունքը ներկայացնելիս։</p>
</section>
<section id="aggregate-xtabs" class="level3" data-number="3.2.7">
<h3 data-number="3.2.7" class="anchored" data-anchor-id="aggregate-xtabs"><span class="header-section-number">3.2.7</span> aggregate(), xtabs()</h3>
</section>
<section id="խնդիրներ" class="level3" data-number="3.2.8">
<h3 data-number="3.2.8" class="anchored" data-anchor-id="խնդիրներ"><span class="header-section-number">3.2.8</span> Խնդիրներ</h3>
<ol type="1">
<li>Տրված ուղղանկյունաձև տվյալների համար պարզել յուրաքանչյուր սյան տեսակը։</li>
</ol>
<p><strong>Լուծում</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>airquality <span class="ot">&lt;-</span> airquality[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(airquality)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
<p>Պարզապես կիրառելով <span class="math inline">\(class()\)</span> ֆունկցիան կստանանք ուղղանկյունաձև կառուցվածքի տեսակը։ Փոխարենը պետք է կիրառել <span class="math inline">\(class()\)</span> ֆունկցիան ուղղանկյունաձև տվյալների սյուների վրա։ Կիրառենք <span class="math inline">\(sapply()\)</span> ֆունկցիան։ Պարզելու համար թե ինչպես կաշխատի <span class="math inline">\(sapply()\)</span> ֆունկցիան, վերածենք տրված ուղղանկյունաձև տվյալները ցուցակի՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.list</span>(airquality)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Ozone
 [1] 41 36 12 18 NA 28 23 19  8 NA

$Solar.R
 [1] 190 118 149 313  NA  NA 299  99  19 194

$Wind
 [1]  7.4  8.0 12.6 11.5 14.3 14.9  8.6 13.8 20.1  8.6

$Temp
 [1] 67 72 74 62 56 66 65 59 61 69

$Month
 [1] 5 5 5 5 5 5 5 5 5 5

$Day
 [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
<p>Այստեղից տեսնում ենք, որ կիրառելով <span class="math inline">\(sapply()\)</span> ֆունկցիան, այն կաշխատի սյուն առ սյուն՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(airquality, class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Ozone   Solar.R      Wind      Temp     Month       Day 
"integer" "integer" "numeric" "integer" "integer" "integer" </code></pre>
</div>
</div>
<p>Կարող ենք օգտագործել նաև <span class="math inline">\(apply()\)</span> ֆունկցիան՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(airquality, <span class="dv">2</span>, class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Ozone   Solar.R      Wind      Temp     Month       Day 
"numeric" "numeric" "numeric" "numeric" "numeric" "numeric" </code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Տրված է ցուցակ, որը պարունակում է վեկտորներ։ Մեր նպատակն է պարզել յուրաքանչյուր վեկտորի երկարությունը։</li>
</ol>
<p><strong>Լուծում</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="fl">0.98</span>,<span class="sc">-</span><span class="fl">0.32</span>,<span class="dv">43</span>), <span class="at">y=</span><span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"cda"</span>, <span class="st">"12"</span>), <span class="at">z=</span><span class="st">"c"</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$x
[1] 11.00  0.98 -0.32 43.00

$y
[1] "a"   "cda" "12" 

$z
[1] "c"</code></pre>
</div>
</div>
<p>Եթե այս ցուցակի վրա կիրառենք <span class="math inline">\(length()\)</span> ֆունկցիան, ապա կստանանք ցուցակի երկարությունը, ոչ թե ցուցակի յուրաքանչյուր ենթաօբյեկտի երկարությունը։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(l)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Փոխարենը՝</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(l, length)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x y z 
4 3 1 </code></pre>
</div>
</div>
<ol start="3" type="1">
<li><strong>airquality</strong> ուղղանկյունաձև տվյալներում հաշվել յուրաքանչյուր ամսվա միջին ջերմաստիճանը, ըստ ամիսների, այնուհետև Օզոնի քանակը ըստ ամիսների, հիշելով, որ վերջին դեպքում փոփոխականը պարունակում է անհայտ արժեքներ։</li>
</ol>
<p><strong>Լուծում</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(airquality<span class="sc">$</span>Temp, airquality<span class="sc">$</span>Month, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   5 
65.1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(airquality<span class="sc">$</span>Ozone, airquality<span class="sc">$</span>Month, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     5 
23.125 </code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Սահմանել ֆունկցիա, որը վերադարձնում է տրված թվային փոփոխականի նմազագույն արժեքը, միջինը, կիսորդիչը, միջին քառակուսային շեղումը և առավելագույն արժեքը՝ համասեռ վեկտորի տեսքով։ Կիրառել այդ ֆունկցիան <em>airquality</em> ուղղանկյունաձև տվյալների Օզոն փոփոխականի վրա՝ ըստ ամիսների։</li>
</ol>
<p><strong>Լուծում</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>Stat <span class="ot">&lt;-</span><span class="cf">function</span>(x,...){</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  y<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fu">min</span>(x,...), <span class="fu">mean</span>(x,...), <span class="fu">median</span>(x,...), <span class="fu">sd</span>(x,...), <span class="fu">median</span>(x,...))</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(y) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Min"</span>, <span class="st">"Mean"</span>, <span class="st">"Median"</span>, <span class="st">"Sd"</span>, <span class="st">"Median"</span>)</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  y</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(airquality<span class="sc">$</span>Ozone, airquality<span class="sc">$</span>Month, Stat, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`5`
    Min    Mean  Median      Sd  Median 
 8.0000 23.1250 21.0000 11.3696 21.0000 </code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Էրատոսթենեսի մաղի հետևյալ իրագործումը գրել առանց շրջապտույտի՝</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="dv">100</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>Y<span class="ot">&lt;-</span><span class="fu">seq_len</span>(n)</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>Y<span class="ot">&lt;-</span>Y[Y<span class="sc">&gt;</span><span class="dv">1</span>]</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(x <span class="cf">in</span> Y){</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>  Y<span class="ot">&lt;-</span>Y[Y<span class="sc">%%</span>x<span class="sc">!=</span><span class="dv">0</span><span class="sc">|</span>Y<span class="sc">==</span>x]</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Լուծում</strong></p>
<p>Օգտագործելու ենք ֆունկցիա, որն աշխատեցնելիս գլոբալ միջավայրում սահմանված համասեռ վեկտորից հեռացվում են պարզ թվեր։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="dv">100</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>X<span class="ot">&lt;-</span><span class="fu">seq_len</span>(n)</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>Sieve <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span>(x<span class="sc">!=</span><span class="dv">1</span>){</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>   X<span class="ot">&lt;&lt;-</span>X[X<span class="sc">%%</span>x<span class="sc">!=</span><span class="dv">0</span><span class="sc">|</span>X<span class="sc">==</span>x]</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a> } </span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> X<span class="ot">&lt;&lt;-</span>X[X<span class="sc">&gt;</span><span class="dv">1</span>]</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>l<span class="ot">&lt;-</span><span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>n,Sieve)</span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>X</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  2  3  5  7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(X,Y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>Վերասահմանել ստորև բերված ֆունկցիան օգտվելով &lt;&lt;- վերագրման գործողությունից, այնպես որ ֆունկցիայի սահմանման մեջ այլևս <span class="math inline">\(for\)</span> կառուցվածք չլինի։</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>Add_Col <span class="ot">&lt;-</span> <span class="cf">function</span>(dat, NR){</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  x<span class="ot">&lt;-</span>NR[,<span class="st">"Variable"</span>]</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> x){</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>    dat[,<span class="fu">paste0</span>(i,<span class="st">"FL"</span>)]<span class="ot">&lt;-</span><span class="fu">ifelse</span>(dat[,i]<span class="sc">&lt;</span>NR[NR<span class="sc">$</span>Variable<span class="sc">==</span>i,<span class="st">"Low"</span>],<span class="st">"Below"</span>,</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(dat[,i]<span class="sc">&lt;=</span>NR[NR<span class="sc">$</span>Variable<span class="sc">==</span>i,<span class="st">"High"</span>],</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"Normal"</span>, <span class="st">"High"</span>))</span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>  dat</span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Լուծում</strong></p>
<p>Նման դեպքերում ամենապարզ մարտավարությունը <span class="math inline">\(for\)</span> կառուցվածքը մեկ արգումենտանոց ֆունկցիայով փոխարինելն է, այնպես որ այդ արգումենտը կատարի <span class="math inline">\(for\)</span> կառուցվածքի կրկնման փոփոխականի դերը, և կիրառել այդ ֆունկցիան կրկնման փոփոխականի փոփոխման տիրույթը ցույց տվող վեկտորի վրա՝ <span class="math inline">\(apply\)</span> ընդտանիքի ֆունկցիաներից մեկի միջոցով։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>dat<span class="ot">&lt;-</span>airquality</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>NR<span class="ot">&lt;-</span><span class="fu">data.frame</span>(<span class="at">Variable=</span><span class="fu">c</span>(<span class="st">"Wind"</span>, <span class="st">"Temp"</span>), <span class="at">Low=</span><span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">70</span>), <span class="at">High=</span><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">80</span>))</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>x<span class="ot">&lt;-</span><span class="fu">as.character</span>(NR[,<span class="st">"Variable"</span>])</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>Add_Col2 <span class="ot">&lt;-</span> <span class="cf">function</span>(i){</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>    dat[,<span class="fu">paste0</span>(i,<span class="st">"FL"</span>)]<span class="ot">&lt;&lt;-</span><span class="fu">ifelse</span>(dat[,i]<span class="sc">&lt;</span>NR[NR<span class="sc">$</span>Variable<span class="sc">==</span>i,<span class="st">"Low"</span>],<span class="st">"Below"</span>,</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(dat[,i]<span class="sc">&lt;=</span>NR[NR<span class="sc">$</span>Variable<span class="sc">==</span>i,<span class="st">"High"</span>],</span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"Normal"</span>, <span class="st">"High"</span>))</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a>s<span class="ot">&lt;-</span><span class="fu">sapply</span>(x,Add_Col2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ինչպես տեսնում ենք՝ ուղղանկյուն տվյալները որպես արգումենտ չենք փոխանցում մեր սահմանած ֆունկցիային, քանի որ վերջինս հնարավորություն ունի ոչ միայն ստանալու գլոբալ միջավայրից արժեքներ, այլև փոփոխություններ կատարել գլոբալ միջավայրում։</p>
<p>Ստորև բերված վերագրման նպատակը գործողությունների կատարման ընթացքը թաքցնելն է։ Մենք չունենք այդ փոփոխականի կարիքը։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>s<span class="ot">&lt;-</span><span class="fu">sapply</span>(x, Add_Col2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Իրականում նոր ուղղանկյուն տվյալ չի ստեղծվել, այլ գոյություն ունեցողի վրա կատարվել են անհրաժեշտ փոփոխությունները։</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Ozone Solar.R Wind Temp Month Day WindFL TempFL
1    41     190  7.4   67     5   1 Normal  Below
2    36     118  8.0   72     5   2 Normal Normal
3    12     149 12.6   74     5   3   High Normal
4    18     313 11.5   62     5   4   High  Below
5    NA      NA 14.3   56     5   5   High  Below
6    28      NA 14.9   66     5   6   High  Below</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat<span class="sc">$</span>WindFL)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Below   High Normal 
    33     72     48 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat<span class="sc">$</span>TempFL)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Below   High Normal 
    32     68     53 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat<span class="sc">$</span>WindFL, dat<span class="sc">$</span>TempFL)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        
         Below High Normal
  Below      0   22     11
  High      22   20     30
  Normal    10   26     12</code></pre>
</div>
</div>
<ol start="7" type="1">
<li><strong>airquality</strong> ուղղանկյունաձև տվյալներում Ջերմաստիճանը համարվում է նորմալ, եթե այն գտնվում է <span class="math inline">\([68,86]\)</span> միջակայքում։ Եթե Ջերմաստիճանը ցածր է այս միջակայքից, ապա Ջերմաստիճանը համարվում է ցուրտ, եթե բարձր է, ապա՝ տաք։ Հաշվել Ջերմաստիճանի ամեն դասակարգման համար Օզոնի լայնքի միջնակետը (լայնքի միջնակետը նվազագույն և առավելագույն արժեքների միջին թվաբանականն է)։ Օգտագործել անանուն ֆունկցիա։ Լուծել նույն խնդիրը, բայց այս անգամ դասակարգումը վերցնել ըստ ամսիների, իսկ ամիսների ներսում՝ ըստ Ջերմաստիճանի դասակարգման։</li>
</ol>
<p><strong>Լուծում</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>dat<span class="ot">&lt;-</span>airquality</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>Temp.C<span class="ot">&lt;-</span><span class="fu">ifelse</span>(dat<span class="sc">$</span>Temp<span class="sc">&lt;</span><span class="dv">68</span>,<span class="st">"Cold"</span>,<span class="fu">ifelse</span>(dat<span class="sc">$</span>Temp<span class="sc">&lt;=</span><span class="dv">86</span>,<span class="st">"Normal"</span>,<span class="st">"Hot"</span>))</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(dat<span class="sc">$</span>Ozone,dat<span class="sc">$</span>Temp.C, <span class="cf">function</span>(x,...) <span class="fu">mean</span>(<span class="fu">range</span>(x,...)),<span class="at">na.rm=</span>T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Cold    Hot Normal 
  21.0   80.5   87.5 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(dat<span class="sc">$</span>Ozone,<span class="fu">list</span>(dat<span class="sc">$</span>Month, dat<span class="sc">$</span>Temp.C), </span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>       <span class="cf">function</span>(x,...) <span class="fu">mean</span>(<span class="fu">range</span>(x,...)),<span class="at">na.rm=</span>T,<span class="at">drop=</span>T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Cold  Hot Normal
5 21.0   NA   58.0
6 10.5 36.0   19.0
7   NA 49.0   68.0
8   NA 61.5   84.5
9  9.5 48.5   23.5</code></pre>
</div>
</div>
<ol start="8" type="1">
<li>Գրել անանուն ֆունկցիա, որն ունի մեկ արգումենտ։ Որպես արգումենտ այդ ֆունկցիան ստանում է համասեռ վեկտոր։ Եթե այդ վեկտորը թվային չէ, ապա ֆունկցիան ոչինչ չի վերադարձնում։ Եթե այդ վեկտորը թվային է, ապա ֆունկցիան վերադարձնում է այդ վեկտորի երկրորդ ամենափոքր արժեքը։ Կիրառել այդ ֆունկցիան <span class="math inline">\(airquality\)</span> ուղղանկյուն տվյալների սյուների վրա։</li>
</ol>
<p><strong>Լուծում</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(airquality,<span class="dv">2</span>,<span class="cf">function</span>(x) <span class="cf">if</span>(<span class="fu">is.numeric</span>(x)) <span class="fu">return</span>(<span class="fu">sort</span>(x)[<span class="dv">2</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Ozone Solar.R    Wind    Temp   Month     Day 
    4.0     8.0     2.3    57.0     5.0     1.0 </code></pre>
</div>
</div>
</section>
<section id="ամփոփում" class="level3" data-number="3.2.9">
<h3 data-number="3.2.9" class="anchored" data-anchor-id="ամփոփում"><span class="header-section-number">3.2.9</span> Ամփոփում</h3>
<ul>
<li>Loop Functions</li>
<li>Split - Apply - Combine</li>
</ul>
<p>Functions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="fu">lapply</span>(); <span class="fu">sapply</span>()</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="fu">apply</span>()</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="fu">rowSums</span>(); <span class="fu">rowMeans</span>(); <span class="fu">colSums</span>(); <span class="fu">colMeans</span>()</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="fu">vapply</span>(); <span class="fu">mapply</span>(); <span class="fu">tapply</span>()</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="fu">Vectorize</span>()</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="fu">split</span>()</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="fu">aggregate</span>(); <span class="fu">xtabs</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-cleveland2001data" class="csl-entry" role="listitem">
Cleveland, William S. 2001. <span>“Data Science: An Action Plan for Expanding the Technical Areas of the Field of Statistics.”</span> <em>International Statistical Review</em> 69 (1): 21–26.
</div>
<div id="ref-donoho201750" class="csl-entry" role="listitem">
Donoho, David. 2017. <span>“50 Years of Data Science.”</span> <em>Journal of Computational and Graphical Statistics</em> 26 (4): 745–66.
</div>
<div id="ref-tukey1962future" class="csl-entry" role="listitem">
Tukey, John W. 1962. <span>“The Future of Data Analysis.”</span> In <em>Breakthroughs in Statistics: Methodology and Distribution</em>, 408–52. Springer.
</div>
<div id="ref-R-plyr" class="csl-entry" role="listitem">
Wickham, Hadley. 2011. <span>“The Split-Apply-Combine Strategy for Data Analysis.”</span> <em>Journal of Statistical Software</em> 40 (1): 1–29. <a href="https://www.jstatsoft.org/v40/i01/">https://www.jstatsoft.org/v40/i01/</a>.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./rintro.html" class="pagination-link" aria-label="R ծրագրավորման միջավայր">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">R ծրագրավորման միջավայր</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./stat.html" class="pagination-link" aria-label="Կիրառական վիճակագրություն">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Կիրառական վիճակագրություն</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>